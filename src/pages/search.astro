---
import Layout from "@layouts/Default.astro";
import SearchInput from "../components/SearchInput.astro";
import { Card } from '@eliancodes/brutal-ui';

let pageTitle = "Search";
let pageDescription = "Search all Articles";
let seoTitle = "Search | STEM Buddies";
let seoDescription = "Search through articles and blog posts";
---

<Layout title={seoTitle} pageTitle={pageTitle} description={seoDescription}>
  <main class="bg-pink p-6 flex-grow flex flex-col">
    <section class="max-w-6xl mx-auto flex-grow">
      <div class="grid gap-8 mt-4">
        <Card>
          <div class="flex flex-col gap-4">
            <h1 class="text-2xl md:text-4xl lg:text-6xl mb-4 dm-serif">
              Search STEM Buddies
            </h1>
            <p class="poppins text-lg">
              Discover amazing articles about Science, Technology, Engineering, and Maths! Start typing to find exactly what you're looking for.
            </p>
            <div class="mt-4 mb-6">
              <p class="text-sm text-gray-600 mb-3 poppins">Popular topics:</p>
              <div class="flex flex-wrap gap-2">
                <button class="search-suggestion px-3 py-1 text-sm bg-white border border-gray-300 rounded-full hover:bg-gray-50 transition-colors poppins">Brilliant Boffins</button>
                <button class="search-suggestion px-3 py-1 text-sm bg-white border border-gray-300 rounded-full hover:bg-gray-50 transition-colors poppins">Space Explorers</button>
                <button class="search-suggestion px-3 py-1 text-sm bg-white border border-gray-300 rounded-full hover:bg-gray-50 transition-colors poppins">Curious Chemistry</button>
                <button class="search-suggestion px-3 py-1 text-sm bg-white border border-gray-300 rounded-full hover:bg-gray-50 transition-colors poppins">Coding Wizards</button>
                <button class="search-suggestion px-3 py-1 text-sm bg-white border border-gray-300 rounded-full hover:bg-gray-50 transition-colors poppins">Maths Magic</button>
                <button class="search-suggestion px-3 py-1 text-sm bg-white border border-gray-300 rounded-full hover:bg-gray-50 transition-colors poppins">Energy Explorers</button>
              </div>
            </div>
            <SearchInput />
          </div>  
        </Card>
      </div>
    </section>
  </main>
</Layout>

<script
  src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js"
  integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"></script>
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js"
  integrity="sha512-4xUl/d6D6THrAnXAwGajXkoWaeMNwEKK4iNfq5DotEbLPAfk6FSxSP3ydNxqDgCw1c/0Z1Jg6L8h2j+++9BZmg=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"></script>

<script is:inline>
  document.addEventListener('astro:page-load', () => {
    // Add click handlers for search suggestions
    const suggestions = document.querySelectorAll('.search-suggestion');
    suggestions.forEach(suggestion => {
      suggestion.addEventListener('click', function() {
        const searchBox = document.querySelector('#searchBox');
        if (searchBox) {
          searchBox.value = this.textContent;
          searchBox.dispatchEvent(new Event('keyup'));
          searchBox.focus();
        }
      });
    });
  });
</script>
