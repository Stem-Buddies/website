---
import Layout from '@layouts/Default.astro';
import RecentBlogPosts from '@components/generic/RecentBlogPosts.astro';
import MobileSocials from '@components/home/MobileSocials.astro';
import { Pill } from '@eliancodes/brutal-ui';
import { Button } from '@eliancodes/brutal-ui';
import { Card } from '@eliancodes/brutal-ui';

const stemLabels = [
  { name: 'Space Explorers', url: '/tags/space%20explorers' },
  { name: 'Earth\'s Wonders', url: '/tags/earths%20wonders' },
  { name: 'Animal Kingdom', url: '/tags/animal%20kingdom' },
  { name: 'Plant Power', url: '/tags/plant%20power' },
  { name: 'Human Body', url: '/tags/human%20body' },
  { name: 'Marvellous Machines', url: '/tags/marvellous%20machines' },
  { name: 'Brilliant Boffins', url: '/tags/brilliant%20boffins' },
  { name: 'Eco Warriors', url: '/tags/eco%20warriors' },
  { name: 'Weather Watchers', url: '/tags/weather%20watchers' },
  { name: 'Maths Magic', url: '/tags/maths%20magic' },
  { name: 'Fizzy Physics', url: '/tags/fizzy%20physics' },
  { name: 'Curious Chemistry', url: '/tags/curious%20chemistry' },
  { name: 'Bonkers Biology', url: '/tags/bonkers%20biology' },
  { name: 'Awesome Astronomy', url: '/tags/awesome%20astronomy' },
  { name: 'Gadget Gurus', url: '/tags/gadget%20gurus' },
  { name: 'Coding Wizards', url: '/tags/coding%20wizards' },
  { name: 'Robotic Revolutionaries', url: '/tags/robotic%20revolutionaries' },
  { name: 'Dinosaur Detectives', url: '/tags/dinosaur%20detectives' },
  { name: 'Ocean Oddities', url: '/tags/ocean%20oddities' },
  { name: 'Miniature Marvels', url: '/tags/miniature%20marvels' },
  { name: 'Energy Explorers', url: '/tags/energy%20explorers' },
  { name: 'Food Science', url: '/tags/food%20science' },
  { name: 'Gravity Gurus', url: '/tags/gravity%20gurus' },
  { name: 'Light and Colour', url: '/tags/light%20and%20colour' },
  { name: 'Sound Sensations', url: '/tags/sound%20sensations' },
  { name: 'Material Mysteries', url: '/tags/material%20mysteries' },
  { name: 'Time Travellers', url: '/tags/time%20travellers' },
  { name: 'Magnet Mania', url: '/tags/magnet%20mania' },
  { name: 'Bubbly Experiments', url: '/tags/bubbly%20experiments' },
  { name: 'Flight Fanatics', url: '/tags/flight%20fanatics' },
];

function getRandomStemLabels(count = 8) {
  // Create a copy of the original array to avoid modifying it
  const shuffled = [...stemLabels];

  // Fisher-Yates shuffle algorithm
  for (let i = shuffled.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }

  // Return the first 'count' elements
  return shuffled.slice(0, count);
}

// Example usage:
const randomEightLabels = getRandomStemLabels();
---

<Layout
  title='Home'
  pageTitle='STEM Buddies |Â Home'
  description='STEM Buddies: Exploring Science, Technology, Engineering, and Maths!'
>
  <main class='bg-pink p-6'>
    <MobileSocials />
    <section id='about' class='grid md:grid-cols-8 gap-8 mt-4'>
      <h2 class='hidden'>About STEM Buddies</h2>
      <div class='col-span-4'>
        <Card>
          <div class='flex flex-col justify-between items-start gap-4'>
            <p class='mt-4 outfit text-2xl md:text-5xl lg:text-7xl'>
            Hiya, young scientists!
            <p class='mt-2 outfit text-xl md:text-3xl lg:text-5xl'>
              Ready to explore the amazing world of STEM? That's Science, Technology, Engineering, and Maths to you and me. Here at STEM Buddies, we're all about making learning fun and exciting!
            </p>
            <Button target={'_self'} href='/blog/'>
              Check out the blog &rarr;
            </Button>
          </div>
        </Card>
      </div>
      <div class='col-span-2 hidden lg:block'>
        <Card>
          <h2 class='text-2xl md:text-4xl lg:text-6xl mb-8 dm-serif'>
            Explore These Exciting Topics!
          </h2>
          <ul class='flex gap-4 flex-wrap'>
            {
              randomEightLabels.map((item) => (
                <li>
                  <Pill>
                    <a
                      class='sanchez'
                      href={item.url}
                      target='_blank'
                      title={`Go to ${item.name}`}
                    >
                      {item.name}
                    </a>
                  </Pill>
                </li>
              ))
            }
          </ul>
        </Card>
      </div>
      <div class='col-span-4 md:col-span-2'>
        <Card>
          <h2 class='text-2xl md:text-4xl lg:text-5xl mb-4 dm-serif'>
            Join the STEM Buddies Adventure!
          </h2>
          <p class='poppins'>
Get ready to blast off into the world of science, build amazing machines, and uncover nature's secrets. STEM is everywhere, and it's brilliant!

Remember, the most important part of being a scientist is asking "Why?" and "How?". So, let's get curious and have some fun!
          </p>
        </Card>
      </div>
    </section>
    <RecentBlogPosts />
  </main>
</Layout>
